---
{"dg-publish":true,"permalink":"/Instant_notes/Notes/Int.1438_版本2/"}
---

> 这是我个人编辑器产品的第二个简单版本，增加了两个核心功能，一个是丰富了对于console的用途，提升console debug的能力；第二个是对话框以及其附属background dimming功能。我知道产品还存在非常多的问题，尤其是在background dimming以及文本高亮上，定位功能总是不稳定或者直接失败，给我造成了非常大的困扰。我在思考，什么样的定位策略是最有效的？这也是下一个版本需要解决的核心问题。
# 功能更新
## 计时器
在代码中插入计时器，将每一个步骤呈现在console里面，目的是为了查看哪个环节拖慢了进程。
## 对话框
在屏幕左上角提供了一个AI对话框，可以展开或者收起，这将增加AI对于文本的干预程度，但同时也能提供更多的有效帮助。
### Background dimming（产品亮点）
>[!note] 
这是对话框的一个隐藏功能，突破了传统人机对话无法有效定位文本的具体位置的问题，是一个产品亮点。
>

- 每次与AI的对话，AI会先接收到编辑器中现有的文本内容。当用户问：“请检查我的文章是否有逻辑错误，或者是否有表达不严谨的地方？”，AI会阅读整篇文章，然后进行思考与分析，对回复中我们需要进行修改的表述之外的文字进行background dimming，聚焦并凸显存在问题的具体文本位置。
- 点击对话中的background dimming按钮，即可实现文本dimming效果，迅速实现文本聚焦。定位功能以及background dimming的选项，能够嵌入到对话中。
- 对话框可以更改模型
	- 现在可以选择的模型是Doubao-Seed-1.6-flash，以及Doubao-Seed-1.6；未来我可能会接入deepseek R1以及kimi的模型。
- 可视化（尚未实现）
	- 这个对话窗口就像正常的AI对话窗口一样，可以show thinking，可以在视觉上展现，让用户知道AI正在思考，现在发送信息以后，虽然AI正在思考并获得数据，但是只有一行字，用户也不知道要等多久，也不知道到底有没有在运行。
# 产品改进方向
## 速度提升
我认为全文分析方案虽然响应速度比较慢，但是可以让AI最大程度地理解上下文，防止因为分割了上下文，导致速度太慢出现错误的建议。我们可以用最轻量模型来处理一些简单的问题，比如最基础的单词拼写错误、语法时态错误等。我现在新开通了一个轻量模型：Doubao-Seed-1.6-flash，并且添加在里面，运行速度有较大提升。
使用高级模型，如Doubao-Seed-1.6在聊天窗口中处理文章在逻辑方面存在的错误。因为这个已经不属于检查简单错误的范围了，所以我认为并不需要由轻量模型来实现，轻量模型效果也不好。
## 定位准确度
现在产品主要有两个定位功能:
- 一个是高亮显示，这部分由快速检查提供。
- 另一个是对话框中提供的background dimming。
这两个重要的功能工作都不稳定，尤其是当模型切换到doubao flash的时候，常常返回错误，这是非常头痛的一个点，也许需要优化prompt来解决这个问题。需要仔细参考[火山引擎的官方文档](https://www.volcengine.com/docs/82379/1399009#%E6%B5%81%E5%BC%8F%E8%BE%93%E5%87%BA)。或许性能优化的关键在于仔细阅读官方文档。
## 模型稳定性
不要用相同的一个函数实现两个功能，比如用同一个prompt调用模型干两件事：一件事是快速分析，一件事是文本定位，一件事是background dimming，这是很容易发生错误的。

## 产品细节
有一些需要强调的技术细节，这些细节还没有做好：
- 一次性找出所有的错误，避免反复校对，提升产品专业度
- 高亮显示的位置，以及background dimming的位置，需要100%完全正确
- 定位错误或者失败的出现要比响应速度缓慢更加可怕，会显著降低产品可信度
### 交互逻辑
这部分先不做，我要先实现产品稳定的工作，再优化产品体验。
边栏修改建议和编辑器之间的跳转逻辑：
	- 点击边栏修改建议，可以直接在正文中定位到需要修改的高亮文本
	- 同样的，点击正文中的高亮文本，边栏中也会直接跳转到相应的修改建议

## 个人工作效率问题
我要用有限地精力和时间最大化地利用时间，完善产品的每一个细节，我认为我应该脱离一种无意识工作的状态：那就是瞎打误撞假努力的状态。
脱离这种状态最好的方式就是保持冷静，不要因为一个bug的出现而干扰了整体的工作计划，或者脱离了既有的策略。应该不断地思考:
- 当下最重要的问题是什么（目标）
- 当下的策略是什么？（解决问题的方案）
- 是否有可以降低工作量，但是又能够显著提升产品运作效果的其他更优策略?